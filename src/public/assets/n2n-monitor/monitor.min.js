var _a,MonitorErrorHandlerImpl=function(){function r(r){this.monitorUrl=r}return r.prototype.handleError=function(r){var o={method:"POST",headers:{"Content-Type":"application/json"},body:this.errorToBodyJson(r)};if(void 0===this.monitorUrl){console.error("monitorUrl is undefined");return}fetch(this.monitorUrl,o).catch(function(r){return console.error(r)}),console.error(r)},r.prototype.errorToBodyJson=function(r){var o=r.stack;o||(o="");var e=/(https?:\/\/[^\s]+):(\d+):(\d+)/.exec(o),t=null;return null!==e&&(t=e[1]+e[2]+e[3]),JSON.stringify({discriminator:(r.name+t).replace(/\s/g,""),severity:"high",name:r.name,message:r.message,stackTrace:r.stack})},r}(),monitorUrl=null===(_a=null==document?void 0:document.querySelector('meta[name="monitor-url"]'))||void 0===_a?void 0:_a.getAttribute("content");monitorUrl&&(window.monitorErrorHandler=new MonitorErrorHandlerImpl(new URL(monitorUrl)),window.addEventListener("error",function(r){window.monitorErrorHandler.handleError(r.error)}),window.addEventListener("securitypolicyviolation",function(r){var o=Error("Content Security Policy violation: blockedURI=".concat(r.blockedURI,", effectiveDirective=").concat(r.effectiveDirective,", violatedDirective=").concat(r.violatedDirective));window.handleError(o)}));