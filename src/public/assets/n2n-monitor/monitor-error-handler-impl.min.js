export class MonitorErrorHandlerImpl{constructor(r){this.monitorUrl=r}handleError(r){let e={method:"POST",headers:{"Content-Type":"application/json"},body:this.errorToBodyJson(r)};if(void 0===this.monitorUrl){console.error("monitorUrl is undefined");return}fetch(this.monitorUrl,e).catch(r=>console.error(r)),console.error(r)}errorToBodyJson(r){let e=r.stack;e||(e="");let o=/(https?:\/\/[^\s]+):(\d+):(\d+)/.exec(e),t=null;return null!==o&&(t=o[1]+o[2]+o[3]),JSON.stringify({discriminator:(r.name+t).replace(/\s/g,""),severity:"high",name:r.name,message:r.message,stackTrace:r.stack})}}